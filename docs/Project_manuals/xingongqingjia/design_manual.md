# 设计手册

## 1.数据库

### 学生账号student

| 参数名    | 类型    | 长度 | 补充               | 说明         |
| --------- | ------- | ---- | :----------------- | ------------ |
| username  | varchar | 255  | 主键、非空         | 学号         |
| name      | varchar | 255  | 非空               | 姓名         |
| major     | int     |      | 非空（软工：1）    | 专业代码     |
| openid    | varchar | 255  |                    | 微信openid   |
| number    | int     | 4    | 非空、默认：3      | 次数         |
| course_id | int     |      |                    | 当前课程编号 |
| is_arrive | int     |      | 默认：0（到场：1） | 签到标记     |



### 班委账号cadre

| 参数名   | 类型    | 长度 | 补充               | 说明     |
| -------- | ------- | ---- | :----------------- | -------- |
| username | varchar | 255  | 主键、非空         | 学号     |
| name     | varchar | 255  | 非空               | 姓名     |
| password | varchar | 255  | 非空、默认：123456 | 密码     |
| major    | int     |      | 非空（软工：1）    | 专业代码 |



### 请假信息leave

| 参数名   | 类型     | 长度 | 补充                                               | 说明         |
| -------- | -------- | ---- | :------------------------------------------------- | ------------ |
| id       | int      |      | 主键、非空、自增                                   | 序号         |
| flag     | varchar  | 255  | 非空（0暗请、1明请）                               | 请假类型     |
| date     | datetime |      | 非空                                               | 请假日期     |
| cause    | text     |      | 非空                                               | 请假理由     |
| username | varchar  | 255  | 非空                                               | 学生学号     |
| file     | varchar  | 255  |                                                    | 图片地址     |
| tcause   | text     |      |                                                    | 老师驳回原因 |
| state    | int      |      | 非空（0等待，1同意，2驳回，3取消，4完成）、默认：0 | 请假状态     |



### 课表schedule

| 参数名      | 类型    | 长度 | 补充             | 说明                             |
| ----------- | ------- | ---- | :--------------- | -------------------------------- |
| id          | int     |      | 主键、非空、自增 | 序号                             |
| major       | int     |      | 非空（软工：1）  | 专业代码                         |
| course_name | varchar | 255  | 非空             | 课程名                           |
| time        | time    |      | 非空             | 上课时间                         |
| number      | int     |      | 非空             | 课程节数                         |
| weekday     | int     |      | 非空             | 星期                             |
| people      | varchar | 255  | 非空             | 上课人员（全体、前xx人、后xx人） |
| classroom   | varchar | 255  | 非空             | 教室号                           |
| teacher     | varchar | 255  | 非空             | 授课老师                         |

### 

### 课堂信息class

| 参数名    | 类型    | 长度 | 补充                        | 说明   |
| --------- | ------- | ---- | :-------------------------- | ------ |
| id        | int     |      | 主键、非空、自增            | 序号   |
| course_id | int     |      | 非空                        | 课程id |
| username  | varchar | 255  | 非空                        | 学号   |
| state     | int     |      | 非空（0迟到，1旷课，2早退） | 情况   |
| date      | varchar | 255  | 非空                        | 时间   |



## 2.API接口

[注意 - 签到系统 (apifox.com)](https://apifox.com/apidoc/shared-17f49617-b541-429e-9b42-de2d4860cf98)